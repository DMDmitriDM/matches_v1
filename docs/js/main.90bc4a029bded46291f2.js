(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var s=a.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=a[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e+"../"})();const e=t.p+"assets/images/matchbox.e16e54176dc5d6f429d3.ico";function n(t,e){return t+Math.round(Math.random()*(e-t))}function a(t){return new Promise(e=>{setTimeout(()=>{e("End pause!")},1e3*t)})}const s=function(t){return t>12?t-12:12===t?n(1,3):t>8?t-8:8===t?n(1,3):t>4?t-4:4===t?n(1,3):t},d=function(t){if(t>12){return n(0,1)?n(1,3):t-12}if(12===t)return n(1,3);if(t>8){return n(0,1)?n(1,3):t-8}if(8===t)return n(1,3);if(t>4){return n(0,1)?n(1,3):t-4}return 4===t?n(1,3):t},r=function(t){return t>3?n(1,3):t},c=function(t){return t>13?t-13:13===t?n(1,3):t>9?t-9:9===t?n(1,3):t>5?t-5:5===t?n(1,3):t>1?t-1:t},i=function(t){if(t>13){return n(0,1)?n(1,2):t-13}if(13===t)return n(1,3);if(t>9){return n(0,1)?n(1,3):t-9}if(9===t)return n(1,3);if(t>5){return n(0,1)?n(1,3):t-5}return 5===t?n(1,3):t>1?t-1:t},o=function(t){return t>4?n(1,3):t>1?t-1:t};const l=document.createElement("link");l.rel="icon",l.type="image/x-icon",l.href=e,document.head.append(l),function(){const t=document.createElement("div");t.classList.add("container"),document.body.append(t);const e=document.createElement("div");e.classList.add("box-game","box-game--set"),t.append(e);const n=document.createElement("div");n.classList.add("box-game__blind"),e.append(n);const a=document.createElement("div");a.classList.add("box-game__blind-wrap-span"),n.append(a);const s=document.createElement("span");s.classList.add("box-game__blind-span"),s.textContent="Думаю",a.append(s);const d=document.createElement("h1");d.classList.add("box-game__title"),d.textContent='Игра "спички"',e.append(d);const r=document.createElement("div");r.classList.add("box-game__rules","rules","rules--set"),e.append(r);const c=document.createElement("h4");c.classList.add("rules__title"),c.textContent="Победитель:",r.append(c);const i=document.createElement("div");i.classList.add("rules__wrap","rules__wrap--column"),r.append(i);const o=["Кто берет последние(юю) спички(у)","Кто не берет последнюю спичку"];for(let t=0;t<o.length;t++){const e=document.createElement("div");e.classList.add("rules__wrap-radio","rules__wrap-radio--margin-bottom"),i.append(e);const n=document.createElement("input");n.classList.add("rules__radio","visually-hidden"),n.setAttribute("type","radio"),n.setAttribute("name","winner"),n.setAttribute("value",`${t}`),n.setAttribute("id",`id-radio-winner-${t}`),0===t&&(n.checked=!0),e.append(n);const a=document.createElement("label");a.classList.add("rules__label"),a.setAttribute("for",`id-radio-winner-${t}`),a.textContent=o[t],e.append(a)}const l=document.createElement("h4");l.classList.add("rules__title"),l.textContent="Кто первым ходит:",r.append(l);const u=document.createElement("div");u.classList.add("rules__wrap","rules__wrap--line"),r.append(u);const m=["Жребий","Компьютер","Игрок"];for(let t=0;t<m.length;t++){const e=document.createElement("div");e.classList.add("rules__wrap-radio","rules__wrap-radio--margin-right"),u.append(e);const n=document.createElement("input");n.classList.add("rules__radio","visually-hidden"),n.setAttribute("type","radio"),n.setAttribute("name","step"),n.setAttribute("value",`${t}`),n.setAttribute("id",`id-radio-step-${t}`),2===t&&(n.checked=!0),e.append(n);const a=document.createElement("label");a.classList.add("rules__label"),a.setAttribute("for",`id-radio-step-${t}`),a.textContent=m[t],e.append(a)}const p=document.createElement("h4");p.classList.add("rules__title"),p.textContent="Сложность игры:",r.append(p);const b=document.createElement("div");b.classList.add("rules__wrap","rules__wrap--line"),r.append(b);const _=["Простой","Средний","Сложный"];for(let t=0;t<_.length;t++){const e=document.createElement("div");e.classList.add("rules__wrap-radio","rules__wrap-radio--margin-right"),b.append(e);const n=document.createElement("input");n.classList.add("rules__radio","visually-hidden"),n.setAttribute("type","radio"),n.setAttribute("name","level"),n.setAttribute("value",`${t}`),n.setAttribute("id",`id-radio-level-${t}`),2===t&&(n.checked=!0),e.append(n);const a=document.createElement("label");a.classList.add("rules__label"),a.setAttribute("for",`id-radio-level-${t}`),a.textContent=_[t],e.append(a)}const f=document.createElement("button");f.classList.add("box-game__btn","btn-reset"),f.setAttribute("type","button"),f.setAttribute("id","id-btn-start"),f.textContent="Начать игру",e.append(f);const h=document.createElement("div");h.classList.add("box-game__matches","matches","matches--set"),e.append(h);const g=document.createElement("div");g.classList.add("matches__images-wrap"),h.append(g);const v=document.createElement("div");v.classList.add("matches__images"),g.append(v);for(let t=0;t<15;t++){const t=document.createElement("div");t.classList.add("matches__images-match"),v.append(t)}const x=document.createElement("span");x.classList.add("matches__take-span"),x.textContent="Взято спичек:",h.append(x);const E=document.createElement("div");E.classList.add("matches__number"),h.append(E);const L=document.createElement("span");L.classList.add("matches__number-span-title"),L.textContent="Осталось спичек:",E.append(L);const y=document.createElement("span");y.classList.add("matches__number-span-count"),y.textContent="15",E.append(y);const A=document.createElement("span");A.classList.add("matches__winner-span"),A.textContent="Победитель не определён!",h.append(A);const C=document.createElement("div");C.classList.add("box-game__step-player","step-player","step-player--set"),e.append(C);const w=document.createElement("h4");w.classList.add("step-player__title"),w.textContent="Выбери, сколько спичек взять:",C.append(w);const S=document.createElement("div");S.classList.add("step-player__wrap"),C.append(S);for(let t=0;t<3;t++){const e=document.createElement("button");e.classList.add("step-player__btn","btn-reset"),e.setAttribute("type","button"),e.dataset.step=`${t+1}`,e.textContent=`${t+1}`,S.append(e)}const $=document.createElement("button");$.classList.add("box-game__btn","btn-reset"),$.setAttribute("type","button"),$.setAttribute("id","id-btn-end"),$.textContent="Сдаться",e.append($)}(),function(){let t,e,l,u,m;const p=document.querySelector(".box-game__blind"),b=document.querySelectorAll(".rules__radio"),_=document.querySelectorAll(".matches__images-match"),f=document.getElementById("id-btn-start"),h=document.getElementById("id-btn-end"),g=document.querySelectorAll(".step-player__btn"),v=document.querySelector(".matches__take-span"),x=document.querySelector(".matches__number-span-count"),E=document.querySelector(".matches__winner-span");t=15,L(),x.textContent=String(t),v.textContent="",E.textContent="",f.addEventListener("click",async()=>{if(t=15,function(){for(const t of b)t.setAttribute("disabled","");f.setAttribute("disabled",""),h.removeAttribute("disabled");for(const t of g)t.removeAttribute("disabled")}(),function(){for(const t of _)t.classList.remove("matches__images-match--hidden")}(),x.textContent=String(t),v.textContent="",E.textContent="",e=document.querySelector("input[type='radio'][name=winner]:checked").value,l=document.querySelector("input[type='radio'][name=step]:checked").value,u=document.querySelector("input[type='radio'][name=level]:checked").value,"0"===e&&"2"===u?m=s:"0"===e&&"1"===u?m=d:"0"===e&&"0"===u?m=r:"1"===e&&"2"===u?m=c:"1"===e&&"1"===u?m=i:"1"===e&&"0"===u&&(m=o),"0"===l&&(l=String(n(1,2))),"1"===l){p.classList.add("box-game__blind--active"),await a(n(1,2)+.4);const e=m(t);t-=e,x.textContent=String(t),A(t),v.textContent=`Компьютер взял спичек: ${e}`,y(),p.classList.remove("box-game__blind--active")}});for(const s of g)s.addEventListener("click",async()=>{const d=Number(s.dataset.step);if(t-=d,x.textContent=String(t),A(t),v.textContent=`Игрок взял спичек: ${d}`,y(),0===t&&"0"===e)return L(),void(E.textContent="= Победитель - Игрок =");if(0===t&&"1"===e)return L(),void(E.textContent="= Победитель - Компьютер =");p.classList.add("box-game__blind--active"),await a(n(1,2)+.4);const r=m(t);t-=r,x.textContent=String(t),A(t),v.textContent=`Компьютер взял спичек: ${r}`,y(),p.classList.remove("box-game__blind--active"),0===t&&"0"===e&&(L(),E.textContent="= Победитель - Компьютер ="),0===t&&"1"===e&&(L(),E.textContent="= Победитель - Игрок =")});function L(){for(const t of b)t.removeAttribute("disabled");f.removeAttribute("disabled"),h.setAttribute("disabled","");for(const t of g)t.setAttribute("disabled","")}function y(){t>=3||(2===t?g[2].setAttribute("disabled",""):1===t?(g[2].setAttribute("disabled",""),g[1].setAttribute("disabled","")):(g[2].setAttribute("disabled",""),g[1].setAttribute("disabled",""),g[0].setAttribute("disabled","")))}function A(t){for(let e=_.length-1;e>=t;e--)_[e].classList.add("matches__images-match--hidden")}h.addEventListener("click",()=>{L(),E.textContent="Вы проиграли!"})}()})();